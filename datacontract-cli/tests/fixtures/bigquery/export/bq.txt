# When using the bq CLI tool to create a table in BigQuery, you only need the schema fields.
jq '.schema.fields' tests/fixtures/bigquery/export/bq_table_schema.json > schema_fields.json

# set the correct project_id, dataset_id and table_id
bq mk --table project_id:dataset_id.table_id schema_fields.json

# upload some test data
bq query --use_legacy_sql=false 'INSERT INTO `project_id:dataset_id.table_id` (string_field, required_string_field, maxlength_string_field, maxlength_required_string_field, varchar_field, text_field, bytes_field, int_field, integer_field, long_field, bigint_field, float_field, boolean_field, timestamp_field, timestamp_tz_field, timestamp_ntz_field, date_field, number_field, decimal_field, numeric_field, double_field, null_field, object_field, record_field, struct_field, string_array_field, int_array_field, complex_array_field) VALUES ("sample string", "required string", "sample maxlength string", "required maxlength string", "sample varchar", "sample text", FROM_BASE64("Ynl0ZXMgZGF0YQ=="), 123, 456, 789012345678, 987654321, 123.45, true, "2023-05-26T12:00:00Z", "2023-05-26T12:00:00Z", "12:00:00", "2023-05-26", 12.345, 12.345, 12.345, 12.345, "sample null value", STRUCT("required subfield", "optional subfield"), STRUCT(true, DATE "2023-05-26"), STRUCT(FROM_BASE64("Ynl0ZXMgZGF0YQ=="), 123), [STRUCT("sample string 1")], [STRUCT(123)], [STRUCT(true, BIGNUMERIC "12.345")]), ("another sample", "another required string", "another sample maxlength string", "another required maxlength string", "another sample varchar", "another sample text", FROM_BASE64("YW5vdGhlciBieXRlcyBkYXRh"), 789, 1011, 121314151617, 1617181920, 678.90, false, "2024-05-26T12:00:00Z", "2024-05-26T12:00:00Z", "13:00:00", "2024-05-26", 67.890, 67.890, 67.890, 67.890, "another null value", STRUCT("another required subfield", "another optional subfield"), STRUCT(false, DATE "2024-05-26"), STRUCT(FROM_BASE64("YW5vdGhlciBieXRlcyBkYXRh"), 456), [STRUCT("sample string 2")], [STRUCT(456)], [STRUCT(false, BIGNUMERIC "67.890")]);'
